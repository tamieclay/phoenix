<!-- product/product_list.html -->
{% extends 'product/base.html' %}

{% block content %}
<style>





  h3 {
    font-size: 24px;
    text-align: center;
    margin-bottom: 20px;
  }

h2 {
    font-size: 18px;
    font-weight: bold;
    margin-top: 10px;
    display:block;
    text-align:center;
    text-decoration:none;
}
p {
font-size:14px;
margin-top:5px;
display:block;
text-align:center;
}
input[type="submit"]{background-color:#4CAF50;color:white;padding:
10px;border:none;border-radius:
5px;}input[type="submit"]:hover{background-color:#3e8e41;}a[href$="update"]{display:inline-block;background-color:#4CAF50;color:white;padding:
5px;border:none;border-radius:
5px;}a[href$="update"]:hover{background-color:#3e8e41;}

.flagship-product-image {
position:relative;

}

.flagship-product-image::after{
content:"PHOENIX YOUR ONE STOP SHOP";
position:absolute;top:50%;left:50%;
transform:translate(-50%,-50%);
color:rgb(201, 204, 10);
background-color: #5c0245;
font-size:34px;
font-weight: bolder;
}
/* In your CSS file */

.container {
    position: relative;
    left: -80px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 180px;

}

.container .drop {
    position: relative;
    width: 350px;
    height: 350px;
    box-shadow: inset 20px 20px 20px rgba(0,0,0,0.05),25px 35px 20px rgba(0,0,0,0.05),25px 30px 30px rgba(0,0,0,0.05),
        inset -20px -20px 25px rgba(255,255,255,0.9);
    transition: 0.5s;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 62% 38% 24% 76% / 59% 60% 40% 41%;
}

.container .drop:hover {
    border-radius: 50%;
}

.container .drop::before {
    content: '';
    position: absolute;
    top: 50px;
    left: 85px;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background: #026302;
    opacity: 0.9;
}

.container .drop::after {
    content: '';
    position:absolute;
     top:calc(85);
         left:calc(110);
             width:calc(15);
                 height:calc(15);
                     border-radius:calc(50%);
                         background:#fff;
                         opacity:.9;
}
.container.drop.content{
     position:relative;
     display:flex;
     justify-content:center;
     align-items:center;
     flex-direction:column;
     text-align:center;
     padding:calc(40);
     gap:calc(15);
}
.container.drop.content h2{
     position:relative;
     color:#333;
     font-size:calc(1.5em);
}
.container.drop.content form{
     display:flex;
     flex-direction:column;
     gap:calc(20);
     justify-content:center;
     align-items:center;
}
.container.drop.content form.input-box{
     position:relative;
     width:calc(225);
     box-shadow:
             inset calc(2) calc(5) calc(10) rgba(calc(0),calc(0),calc(0),calc(.1)),
             inset -calc(2) -calc(5) calc(10) rgba(calc(255),calc(255),calc(255),calc(1)),
             calc(15) calc(15) calc(10) rgba(calc(0),calc(0),calc(0),calc(.05)),
             calc(15) calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(calc(.025)))))))))))))))))))))))));
     border-radius:calc(25)
}
.container.drop.content form.input-box::before{
     content:'';position:absolute;top:
         calc(8);left:
             calc(50%);transform:
                 translateX(-50%);width:
                     calc((65/100)*100%);height:
                         calc((5/100)*100%);background:
                             rgba(
                                 (255/100)*100%, (255/100)*100%, (255/100)*100%, (5/10))
                                 border-radius:
                                     calc((5/100)*100%)
}
.container.drop.content form.input-box input{
     border:none;outline:none;background:
         transparent;width:
             calc((100/100)*100%);font-size:
                 calc((1/1)*1em);padding:
                     (10/10)*10 + ((5/2)/2)*5 (15/10)*15 + ((5/2)/2)*5
}
.container.drop.content form.input-box input[type='submit']{
     color:#fff;text-transform:
         uppercase;font-size:(1/1)*1em;cursor:pointer;letter-spacing:.1em;font-weight:(500/500)*500
}
.container.drop.content form.input-box:last-child{
     width:(120/120)*120;background:#3a86ff;box-shadow:
         inset (2/2)*2 (5/5)*5 (10/10)*10 rgba((0/1),(0/1),(0/1),(1/10)),
         (15/15)*15 (15/15)*15 (10/10)*10 rgba((0/1),(0/1),(0/1),(5/100)),
         (15/15)*15 ((10*3)/3) ((15*3)/3) rgba((0*3)/3,(0*3)/3,(0*3)/3,((25/1000)*1000));
     transition:.5s
}
.container.drop.content form.input-box:last-child:hover{
     width:(150/150)*150
}
.product-card {
    position: relative;
    width: 300px;
    margin: 40px;
    padding: 10px;
    border-radius: 0 0 50% 50% / 0 0 100% 100%;
    background: transparent;
    color: rgb(6, 105, 19);
    text-align: center;
    margin-top:80px;
}

@media (max-width: 600px) {
    .container {
        flex-wrap: wrap;
    }

    .container .drop {
        width: calc(100% - 40px);
        height: auto;
        box-shadow: none;
        border-radius: 0;
    }

    .container .drop::before, .container .drop::after {
        display: none;
    }

    .product-card {
        width: calc(50% - 20px);
        margin: 10px;
        flex-direction: row;


    }
}

    .product-card:before {
        content: "";
        position: absolute;
        top: -50px;
        left: calc(50% - 25px);
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: #13af05;
    }

    .product-image-container {
        width: 100%;
        height: 200px;
        overflow: hidden;

    }

    .product-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .product-info {
        text-align: center;
    }

    .product-name {
        margin-top: 10px;
        margin-bottom: 5px;
    }

   .product-description {
    font-size: 1.2em;
    color: #333;
    margin-bottom: 10px;
}

.product-price {
    font-size: 1.5em;
    font-weight: bold;
    color: #007bff;
}


    .add-to-basket-button {
        background-color:white;
        color:#007bff;
        padding:12px 20px;
        border:none;
        border-radius:4px;
        cursor:pointer;
    }

    .add-to-basket-button:hover {
         background-color:#f8f9fa;
     }

     .update-link, .delete-link {
    display: inline-block;
    margin-top: 5px;
    padding: 12px 20px;
    color: white;
    background-color: #007bff;
    border: none;
    border-radius: 4px;
    text-decoration: none;
}

.update-link:hover, .delete-link:hover {
    background-color: #0069d9;
}



</style>




<div class="featured-products">
{% for product in products_on_promotion %}
<div class="product-card">
    {% if product.main_image %}
        <div class="product-image-container">
            <img class="product-image" src="{{ product.main_image.image.url }}" alt="{{ product.name }}">
        </div>
    {% endif %}
    <div class="product-info">
        <h2>{{ product.name }}</h2>
        <p>{{ product.short_description }}</p>
        <p>${{ product.price }}</p>
        <form method="post" action="{% url 'add_to_basket' product.id %}">
            {% csrf_token %}
            <input type="submit" value="Add to Basket" class="add-to-basket-button">
        </form>
        <a href="{% url 'product_update' product.id %}" class="update-link">Update</a>
        <a href="{% url 'product-delete' product.id %}" class="delete-link">Delete</a>
    </div>
</div>
{% endfor %}
</div>

{% for category in categories %}
<div class="product-list" id="category-{{ category.id }}">
{% for product in category.product_set.all %}
<!-- In your HTML file -->
<div class="container">
    <div class="drop">
        <div class="content">
<div class="product-card">
    {% if product.main_image %}
        <div class="product-image-container">
            <img class="product-image" src="{{ product.main_image.image.url }}" alt="{{ product.name }}">
        </div>
    {% endif %}
    <div class="product-info">
        <h2 class="product-name">{{ product.name }}</h2>
        <!-- In your HTML file -->
<p class="product-description">{{ product.short_description }}</p>
<p class="product-price">${{ product.price }}</p>

        <form method="post" action="{% url 'add_to_basket' product.id %}">
            {% csrf_token %}
            <input type="submit" value="Add to Basket" class="add-to-basket-button">
        </form>
       {% if request.user.is_authenticated and request.user.is_staff %}
    <a href="{% url 'product_update' product.id %}" class="update-link">Update</a>
    <a href="{% url 'product-delete' product.id %}" class="delete-link">Delete</a>
{% endif %}
    </div>
</div>
  </div>  
    </div>
    
</div>
{% endfor %}
</div>
{% endfor %}


{% if main_image %}
<div class="flagship-product-image">
<h3>Featured Products</h3>

<img src="{{ main_image.image.url }}" alt="Main Image" style="width:
100%;height:auto;max-height:
200px;object-fit:
cover;"> <!-- Add the main image -->

</div>

{% endif %}
{% endblock %}

